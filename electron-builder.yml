appId: com.librewebui.app
productName: Libre WebUI
copyright: Copyright Â© 2025 Kroonen AI, Inc.

directories:
  output: dist-electron
  buildResources: electron/assets

files:
  - electron/**/*
  - '!electron/assets'

extraResources:
  - from: frontend/dist
    to: frontend/dist
    filter:
      - '**/*'
  - from: plugins
    to: plugins
    filter:
      - '**/*.json'

# Note: This desktop app connects to a locally-running backend server.
# The backend must be started separately or the user needs Ollama running.
# For development: npm run dev
# For production: run the backend server separately

mac:
  category: public.app-category.productivity
  target:
    - target: dmg
      arch:
        - arm64
    - target: zip
      arch:
        - arm64
  icon: electron/assets/icon.icns
  darkModeSupport: true
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: electron/entitlements.mac.plist
  entitlementsInherit: electron/entitlements.mac.plist
  artifactName: '${productName}-${version}-mac-arm64.${ext}'
  notarize: true

dmg:
  background: electron/assets/dmg-background.png
  icon: electron/assets/icon.icns
  iconSize: 128
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications
  window:
    width: 540
    height: 380

# For future x64 support
# mac:
#   target:
#     - target: dmg
#       arch:
#         - arm64
#         - x64

linux:
  target:
    - AppImage
    - deb
  category: Utility
  icon: electron/assets/icons

win:
  target:
    - nsis
    - portable
  icon: electron/assets/icon.ico

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true

publish:
  provider: github
  owner: libre-webui
  repo: libre-webui
